{{ define "main" }}
<div class="container mx-auto px-4 py-12">
    <!-- Two Column Layout for Content and Sidebar -->
    <div class="flex flex-col lg:flex-row gap-8 mb-12">
        <!-- Main Content -->
        <article class="flex-1">
            <header class="mb-8">
                {{ with .Params.categories }}
                <div class="mb-4">
                    {{ range . }}
                    <a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}"
                    class="inline-block px-3 py-1 text-sm font-medium text-primary-600 bg-primary-50 rounded-full
                    hover:bg-primary-100 mr-2">
                    {{ . }}
                    </a>
                    {{ end }}
                </div>
                {{ end }}

                <h1 class="text-4xl font-bold mb-4">{{ .Title }}</h1>

                {{ partial "post-meta.html" . }}
            </header>

            {{ with .Params.featured_image }}
            <div class="mb-8">
                <img src="{{ . }}"
                     alt="{{ $.Title }}"
                     class="w-full h-auto rounded-lg"
                     loading="lazy">
            </div>
            {{ end }}

            <div class="prose prose-lg max-w-none">
                {{ .Content }}
            </div>
        </article>

        <!-- Sidebar -->
        <aside class="lg:w-80 xl:w-96">
            {{ partial "sidebar.html" . }}
        </aside>
    </div>

    <!-- Full-width CTA Section -->
    <div class="mt-16">
        {{ partial "components/cta.html" . }}
    </div>
</div>
{{ end }}
